extends layout

block head
    link(href='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css', rel='stylesheet')
    script(src='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js')
    script(src='https://code.jquery.com/jquery-3.6.0.min.js')
    script(src='js/mapbox-controller.js', defer)
    script(src='js/search-controller.js', defer)

block content
    #map-container
    #sidebar-container
        h1.title #{title}
        form#search-container(action='/api/search' method='post')
            input(
                type='text'
                name='search'
                placeholder='Search by station...'
                aria-autocomplete='list'
            )
            ul#search-results-container(
                aria-label='Search results'
            )
    
    script.
        var styleUrl = '#{styleUrl}';
        var accessToken = '#{accessToken}';